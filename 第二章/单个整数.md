## 直接整数

这一节我们休整一下，做个更简单的用例：

```
43
```

这段Z代码实际上比`print("hello")`还要简单，它才是真正的“最简单的Z程序”。

但是考虑到Hello World无与伦比的影响力，我还是先写了Hello World，再写这一节。

就当做是一场小憩吧。


## 测试配置

在开始为`43`添加测试用例之前，我先要再整理一下测试的配置。

上一节的测试中我发现，把不同的用例放在不同的目录之后，假定目录名称是`dir`，其实可以采用统一的名称：

- `dir_case.z`：Z语言源码，即测试输入用例。
- `dir_expected.*`：期望的输出文件。
- `app.*`：实际的输出文件。

有了这样统一的命名，`xmake.lua`中的用例配置就会更加简单了。
只需要遍历不同用例的目录，就可以用一套配置覆盖所有用例。

```lua
local case_list = {"hello", "simple_int"}

-- 编译器compiler的测试用例
target("test_compiler")
    set_kind("binary")
    set_default(false)
    add_includedirs("src")
    add_files("src/*.c")
    remove_files("src/main.c")
    add_files("test/test_compiler.c")
    for _, d in ipairs(case_list) do
        local asm_ext = is_plat("windows") and "asm" or "s"
        add_tests(d, {rundir = os.projectdir().."/test/"..d, runargs = {d.."_case.z", d.."_expected."..asm_ext}})
    end

-- 转译器transpiler的测试用例
target("test_transpiler")
    set_kind("binary")
    set_default(false)
    add_includedirs("src")
    add_files("src/*.c")
    remove_files("src/main.c")
    add_files("test/test_transpiler.c")

    for _, d in ipairs(case_list) do
        for _, lan in ipairs({"c", "py", "js"}) do
            add_tests(d.."_"..lan, {rundir = os.projectdir().."/test/"..d, runargs = {lan, d.."_case.z", d.."_expected."..lan}})
        end
    end
```

以后我们添加新的测试用例时，只需要修改`case_list`就可以了。


## 测试用例

下面我们添加`43`的测试用例，取名为`single_int`。

